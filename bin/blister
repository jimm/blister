#!/bin/bash
#
# usage: blister [--list | --text [--cmds "..."]] [some_blister_file.exs]
#
# --list Outputs the list of connected MIDI devices and exits.
# --cmds "..." sends the characters in the string one by one to Blister.
#        Normally used only for develompent/debugging.

TMPFILE=/tmp/$$.exs
MIX_ENV=${MIX_ENV:-prod}
export MIX_ENV

cd $(dirname $0)/.. >/dev/null
touch $TMPFILE
# elixir -S mix run --no-halt $TMPFILE $*
mix run $TMPFILE $*
rm -f $TMPFILE
