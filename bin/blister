#!/bin/bash
#
# usage: blister [list | text keys...]
#
# "list" outputs the list of connected MIDI devices and exits.
# "text" uses a text-only interface (no curses windows).
# No argument starts Blister normally.

tmpfile=/tmp/$$.exs

cd $(dirname $0)/.. >/dev/null
touch $tmpfile
if [ -z "$1" ] ; then
    elixir --erl -noinput --erl +A10 -S mix run --no-halt
else
    elixir -S mix run --no-halt $tmpfile $*
fi
rm -f $tmpfile
